<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc -->
    <title>OrderController (mes-core 0.5 API)</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../../../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="OrderController (mes-core 0.5 API)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../../index-all.html">Index</a></li>
        <li><a href="../../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../../index.html?org/simplemes/mes/demand/controller/OrderController" target="_top">Frames</a></li>
            <li><a href="OrderController.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>org.simplemes.mes.demand.controller</strong></div>

    <h2 title="[Groovy] Class OrderController" class="title">[Groovy] Class OrderController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li><ul class="inheritance"></ul></li><li><ul class="inheritance"></ul></li><li><ul class="inheritance"></ul></li><li>org.simplemes.mes.demand.controller.OrderController
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">


            <!-- todo: direct known subclasses -->
            <hr>
            <br>

<pre>@groovy.util.logging.Slf4j
@io.micronaut.security.annotation.Secured(value: SUPERVISOR)
@io.micronaut.http.annotation.Controller(value: /order)
class OrderController
extends org.simplemes.eframe.controller.BaseCrudRestController</pre>

    <p> Handles HTTP requests for the Order object.

 <h3>Logging</h3>
 The logging for this class that can be enabled:
 <ul>
   <li><b>debug</b> - Debugging information. Typically includes inputs and outputs. </li>
 </ul>
</p>

          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        
            <ul class="blockList">
                <li class="blockList"><a name="field_summary"><!--   --></a>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited fields summary table">
                        <caption><span>Inherited fields</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Fields inherited from class</th>
                            <th class="colLast" scope="col">Fields</th>
                        </tr>
                                                <tr class="altColor">
                            <td class="colFirst"><strong><code>class org.simplemes.eframe.controller.BaseCrudRestController</code></strong></td>
                            <td class="colLast"><code>__$stMC, __$stMC, __$stMC</code></td>
                        </tr>

                    </table>
                    </ul>
                </li>
                
            </ul>
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        
         <ul class="blockList">
                <li class="blockList"><a name="property_summary"><!--   --></a>
                    <h3>Properties Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties Summary table, listing nested classes, and an explanation">
                        <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;<a href='../../../../../org/simplemes/mes/demand/service/OrderService.html'>OrderService</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#orderService">orderService</a></code><br>Injected OrderService.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>private&nbsp;java.lang.Object</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#taskMenuItems">taskMenuItems</a></code><br>Defines the entry(s) in the main Task Menu.</td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
            </ul>
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        
        <!-- ======== CONSTRUCTOR SUMMARY ======== -->
        <ul class="blockList">
                <li class="blockList"><a name="constructor_summary"><!--   --></a>
                    <h3>Constructor Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructors Summary table">
                        <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Constructor and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst">
                                <code><a href="#OrderController()">OrderController</a>
                                ()</code><br></td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
        </ul>
        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type Params</th>
                            <th class="colLast" scope="col">Return Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>io.micronaut.http.HttpResponse</code></td>
                            <td class="colLast"><code><strong><a href="#archiveOld(io.micronaut.http.HttpRequest, java.security.Principal)">archiveOld</a></strong>(io.micronaut.http.HttpRequest request, java.security.Principal principal)</code><br>API entry for archiveOld() action.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>io.micronaut.http.HttpResponse</code></td>
                            <td class="colLast"><code><strong><a href="#determineQtyStates(java.lang.String, java.security.Principal)">determineQtyStates</a></strong>(java.lang.String id, java.security.Principal principal)</code><br>API entry for determineQtyStates() action.  </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>io.micronaut.http.HttpResponse</code></td>
                            <td class="colLast"><code><strong><a href="#release(io.micronaut.http.HttpRequest, java.security.Principal)">release</a></strong>(io.micronaut.http.HttpRequest request, java.security.Principal principal)</code><br>API entry for release() action.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>io.micronaut.http.HttpResponse</code></td>
                            <td class="colLast"><code><strong><a href="#releaseUI(io.micronaut.http.HttpRequest, java.lang.Object, java.security.Principal)">releaseUI</a></strong>(io.micronaut.http.HttpRequest request, java.lang.Object bodyParams, java.security.Principal principal)</code><br>API entry for release() action.  </td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class org.simplemes.eframe.controller.BaseCrudRestController</code></td>
                            <td class="colLast"><code>org.simplemes.eframe.controller.BaseCrudRestController#restDelete(java.lang.String, java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#super$3$$getStaticMetaClass(), org.simplemes.eframe.controller.BaseCrudRestController#restPost(io.micronaut.http.HttpRequest, java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#restPut(java.lang.String, io.micronaut.http.HttpRequest, java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#restGet(java.lang.String, java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#index(java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#list(io.micronaut.http.HttpRequest, java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#delete(io.micronaut.http.HttpRequest, java.lang.Object, java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#create(java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#getView(java.lang.String), org.simplemes.eframe.controller.BaseCrudRestController#createPost(io.micronaut.http.HttpRequest, java.lang.Object, java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#edit(java.lang.String, java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#editPost(io.micronaut.http.HttpRequest, java.lang.Object, java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#bindEvent(java.lang.Object, java.lang.Object), org.simplemes.eframe.controller.BaseCrudRestController#show(java.lang.String, java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#getRootPath(), org.simplemes.eframe.controller.BaseCrudRestController#super$2$$getStaticMetaClass(), org.simplemes.eframe.controller.BaseCrudRestController#getDomain(), org.simplemes.eframe.controller.BaseCrudRestController#error(io.micronaut.http.HttpRequest, java.lang.Throwable), org.simplemes.eframe.controller.BaseCrudRestController#buildErrorResponse(java.lang.String), org.simplemes.eframe.controller.BaseCrudRestController#buildOkResponse(java.lang.Object), org.simplemes.eframe.controller.BaseCrudRestController#buildOkResponse(), org.simplemes.eframe.controller.BaseCrudRestController#buildDeniedResponse(io.micronaut.http.HttpRequest, java.lang.String, java.security.Principal), org.simplemes.eframe.controller.BaseCrudRestController#parseBody(io.micronaut.http.HttpRequest, java.lang.Class), org.simplemes.eframe.controller.BaseCrudRestController#getMetaClass(), org.simplemes.eframe.controller.BaseCrudRestController#setMetaClass(groovy.lang.MetaClass), org.simplemes.eframe.controller.BaseCrudRestController#wait(long, int), org.simplemes.eframe.controller.BaseCrudRestController#wait(), org.simplemes.eframe.controller.BaseCrudRestController#wait(long), org.simplemes.eframe.controller.BaseCrudRestController#equals(java.lang.Object), org.simplemes.eframe.controller.BaseCrudRestController#toString(), org.simplemes.eframe.controller.BaseCrudRestController#hashCode(), org.simplemes.eframe.controller.BaseCrudRestController#getClass(), org.simplemes.eframe.controller.BaseCrudRestController#notify(), org.simplemes.eframe.controller.BaseCrudRestController#notifyAll(), org.simplemes.eframe.controller.BaseCrudRestController#getProperty(java.lang.String), org.simplemes.eframe.controller.BaseCrudRestController#setProperty(java.lang.String, java.lang.Object), org.simplemes.eframe.controller.BaseCrudRestController#invokeMethod(java.lang.String, java.lang.Object)</code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            

            
            <!-- =========== PROPERTY DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="prop_detail">
                    <!--   -->
                </a>
                    <h3>Property Detail</h3>
                    
                        <a name="orderService"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;<a href='../../../../../org/simplemes/mes/demand/service/OrderService.html'>OrderService</a> <strong>orderService</strong></h4>
                                <p> Injected OrderService.</p>
                            </li>
                        </ul>
                    
                        <a name="taskMenuItems"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;java.lang.Object <strong>taskMenuItems</strong></h4>
                                <p> Defines the entry(s) in the main Task Menu.</p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            
            <!-- =========== CONSTRUCTOR DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="constructor_detail">
                    <!--   -->
                </a>
                    <h3>Constructor Detail</h3>
                    
                        <a name="OrderController()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><strong>OrderController</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="archiveOld(io.micronaut.http.HttpRequest, java.security.Principal)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.Post(value: /archiveOld)
@java.lang.SuppressWarnings(value: unused)
io.micronaut.http.HttpResponse <strong>archiveOld</strong>(io.micronaut.http.HttpRequest request, @javax.annotation.Nullable java.security.Principal principal)</h4>
                                <p> API entry for archiveOld() action.  Supports JSON in the content.
 Calls the
 <a href='../../../../../org/simplemes/mes/demand/service/OrderService.html#archiveOld(java.math.BigDecimal, java.lang.Integer, java.lang.Integer)' title='OrderService.archiveOld'>OrderService.archiveOld</a>
 method.
 Archive old, done orders based on the date that they were completed.  There are options
 for the age (days) and the max number of orders to archive in one batch (transaction).  There is also an option to limit the number
 batches archived at a time.  This last option is used to limit the slowdown from archiving during 'catch-up' scenarios when
 archiving has not been run recently.  Values that exceed the maximum will be ignored and the maximum will be used.
 <p/>
 This method is called automatically once per day using the job scheduler in production/dev environments.
 <p/>
 The JSON is in the format:
 <pre>
{   "ageDays": 100,
   "maxOrdersPerTxn": 50,
   "maxTxns": 1
} </pre>
 <p/>
 Returns the archive file references in a JSON array:
 <pre>
{   [
     "archives/M1001.arc"},
     "archives/M1002.arc"},
     "archives/M1003.arc"}*   ]
} </pre>
</p>
                            </li>
                        </ul>
                    
                        <a name="determineQtyStates(java.lang.String, java.security.Principal)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.Get(value: /determineQtyStates/{id})
@java.lang.SuppressWarnings(value: [GroovyAssignabilityCheck, unused])
io.micronaut.http.HttpResponse <strong>determineQtyStates</strong>(@io.micronaut.http.annotation.PathVariable(name: id) java.lang.String id, @javax.annotation.Nullable java.security.Principal principal)</h4>
                                <p> API entry for determineQtyStates() action.  This is passed through to the OrderService.
 Supports XML and JSON formats using standard framework parsing.
 Executes the <a href='../../../../../org/simplemes/mes/demand/service/OrderService.html#determineQtyStates(org.simplemes.mes.demand.domain.Order)' title='OrderService.determineQtyStates'>OrderService.determineQtyStates</a> method.
 <p/>
 This follows the normal REST API approach, using the order/LSN id/name as the parameter on the URL:
 <code>/order/determineQtyStates/M1001</code>.  The parameter is evaluated with this precedence order:
 <ul>
   <li>LSN - ID (numeric)</li>
   <li>Order - ID (numeric)</li>
   <li>LSN - name</li>
   <li>Order - name</li>
 </ul></p>
                            </li>
                        </ul>
                    
                        <a name="release(io.micronaut.http.HttpRequest, java.security.Principal)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.Post(value: /release)
@java.lang.SuppressWarnings(value: unused)
io.micronaut.http.HttpResponse <strong>release</strong>(io.micronaut.http.HttpRequest request, @javax.annotation.Nullable java.security.Principal principal)</h4>
                                <p> API entry for release() action.  Supports JSON format using standard framework parsing.
 Executes the <a href='../../../../../org/simplemes/mes/demand/service/OrderService.html#release(org.simplemes.mes.demand.OrderReleaseRequest)' title='OrderService.release'>OrderService.release</a> method.</p>
                            </li>
                        </ul>
                    
                        <a name="releaseUI(io.micronaut.http.HttpRequest, java.lang.Object, java.security.Principal)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.Produces(value: MediaType.TEXT_HTML)
@io.micronaut.http.annotation.Consumes(value: MediaType.APPLICATION_FORM_URLENCODED)
@io.micronaut.http.annotation.Post(value: /releaseUI)
io.micronaut.http.HttpResponse <strong>releaseUI</strong>(io.micronaut.http.HttpRequest request, @io.micronaut.http.annotation.Body java.lang.Object bodyParams, @javax.annotation.Nullable java.security.Principal principal)</h4>
                                <p> API entry for release() action.  Supports JSON format using standard framework parsing.
 Executes the <a href='../../../../../org/simplemes/mes/demand/service/OrderService.html#release(org.simplemes.mes.demand.OrderReleaseRequest)' title='OrderService.release'>OrderService.release</a> method.</p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../../index-all.html">Index</a></li>
        <li><a href="../../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../../index.html?org/simplemes/mes/demand/controller/OrderController" target="_top">Frames</a></li>
            <li><a href="OrderController.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
