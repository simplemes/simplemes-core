<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc -->
    <title>BaseSpecification (eframe 0.5 API)</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="BaseSpecification (eframe 0.5 API)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../index-all.html">Index</a></li>
        <li><a href="../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../index.html?org/simplemes/eframe/test/BaseSpecification" target="_top">Frames</a></li>
            <li><a href="BaseSpecification.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>org.simplemes.eframe.test</strong></div>

    <h2 title="[Groovy] Class BaseSpecification" class="title">[Groovy] Class BaseSpecification</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li><ul class="inheritance"></ul></li><li><ul class="inheritance"></ul></li><li><ul class="inheritance"></ul></li><li><ul class="inheritance"></ul></li><li>org.simplemes.eframe.test.BaseSpecification
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">


            <!-- todo: direct known subclasses -->
            <hr>
            <br>

<pre>@groovy.util.logging.Slf4j
class BaseSpecification
extends geb.spock.GebSpec</pre>

    <p> The base class for most non-GUI tests.  This supports starting an embedded server and cleanup of the database tables.
 These needs are flagged in your test classes with several static variables:
 <pre>
   static specNeeds = [SERVER]
   static dirtyDomains = [User]
 </pre>

 If the SERVER server is needed, then it will be started once for the session.  This server will be shared with all
 tests run during the session.<p>
 The <code>dirtyDomains</code> value indicates that your test will be using a real database.  That sub-system will be started
 for you and all records in the given domains will be deleted on cleanup.
 <p>
 <b>Note:</b> This base class extends GebSpec to make running GUI and non-GUI tests together easier.
 <p>
 This class will reset any mocked versions of the common utility classes (e.g. DomainUtils and ControllerUtils).
 This means you do not need to reset these .instance values during your cleanup.  This BaseSpecification does that for you.
 See the list <a href='../../../../org/simplemes/eframe/test/BaseSpecification.html#utilityClassesToCheck' title='BaseSpecification.utilityClassesToCheck'>BaseSpecification.utilityClassesToCheck</a> below.

 <h3>Standard Cleanups</h3>
 This base class resets the following elements after each test:
 <ul>
   <li><b>GlobalUtils.defaultLocale</b> - Reset to the JVM's default locale. </li>
 </ul>


 <h3>Logging</h3>
 The logging for this class that can be enabled:
 <ul>
   <li><b>debug</b> - Prints all beans found on startup. </li>
 </ul></p>

          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        
            <ul class="blockList">
                <li class="blockList"><a name="field_summary"><!--   --></a>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited fields summary table">
                        <caption><span>Inherited fields</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Fields inherited from class</th>
                            <th class="colLast" scope="col">Fields</th>
                        </tr>
                                                <tr class="altColor">
                            <td class="colFirst"><strong><code>class geb.spock.GebSpec</code></strong></td>
                            <td class="colLast"><code>__$stMC, _</code></td>
                        </tr>

                    </table>
                    </ul>
                </li>
                
            </ul>
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        
         <ul class="blockList">
                <li class="blockList"><a name="property_summary"><!--   --></a>
                    <h3>Properties Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties Summary table, listing nested classes, and an explanation">
                        <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#EXTENSION_MOCK">EXTENSION_MOCK</a></code><br>Declares that the spec will need a mocked extension handler.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#GUI">GUI</a></code><br>Declares that the spec will be testing GUI features.  </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#SERVER">SERVER</a></code><br>Declares that the spec needs the EmbeddedServer started.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;<a href='../../../../org/simplemes/eframe/test/MockFieldExtension.html'>MockFieldExtension</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#_mockFieldExtension">_mockFieldExtension</a></code><br>The mock extension (if in specNeeds).</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;java.util.List&lt;<a href='../../../../org/simplemes/eframe/test/AutoCleanupMockInterface.html' title='AutoCleanupMockInterface'>AutoCleanupMockInterface</a>&gt;</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#autoCleanupsNeeded">autoCleanupsNeeded</a></code><br>The list of cleanups needed by mocked elements.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;io.micronaut.runtime.server.EmbeddedServer</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#embeddedServer">embeddedServer</a></code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;java.lang.Object</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#latestConnectionIdleCount">latestConnectionIdleCount</a></code><br>Records the latest DB connection idle count.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;com.fasterxml.jackson.databind.ObjectMapper</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#objectMapper">objectMapper</a></code><br>An object mapper configured as the framework needs it.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;java.util.List&lt;java.lang.Class&gt;</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#otherDirtyDomains">otherDirtyDomains</a></code><br>A list of other domain classes that need cleanup.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;int</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#reportScreenShotCount">reportScreenShotCount</a></code><br>A running counter to make sure we don't have screen shot name collisions.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;java.lang.Object</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#utilityClassesToCheck">utilityClassesToCheck</a></code><br>The common utility classes to check for a mocked instance.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;boolean</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#wroteTime">wroteTime</a></code><br>Used to track if a new time is needed for the tests.txt output.</td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
            </ul>
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        
        <!-- ======== CONSTRUCTOR SUMMARY ======== -->
        <ul class="blockList">
                <li class="blockList"><a name="constructor_summary"><!--   --></a>
                    <h3>Constructor Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructors Summary table">
                        <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Constructor and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst">
                                <code><a href="#BaseSpecification()">BaseSpecification</a>
                                ()</code><br></td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
        </ul>
        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type Params</th>
                            <th class="colLast" scope="col">Return Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>boolean</code></td>
                            <td class="colLast"><code><strong><a href="#assertValidationFails(java.lang.Object, int, java.lang.String, List)">assertValidationFails</a></strong>(java.lang.Object object, int code, java.lang.String fieldName, java.util.List&lt;java.lang.String&gt; expectedStrings)</code><br>Runs the validation on the given domain object and verifies that the given validation (code/fieldName)
 are found.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#checkForDBConnectionLeaks()">checkForDBConnectionLeaks</a></strong>()</code><br>Checks for any DB leaks.   </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#checkForLeftoverRecords()">checkForLeftoverRecords</a></strong>()</code><br>Checks for any left-over records that may have been created by this test.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>boolean</code></td>
                            <td class="colLast"><code><strong><a href="#checkJavascript(java.lang.String)">checkJavascript</a></strong>(java.lang.String page)</code><br>Checks the page for JS errors.  </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>boolean</code></td>
                            <td class="colLast"><code><strong><a href="#checkJavascriptFragment(java.lang.String)">checkJavascriptFragment</a></strong>(java.lang.String page)</code><br>Checks the page for JS errors.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>boolean</code></td>
                            <td class="colLast"><code><strong><a href="#checkPage(java.lang.String)">checkPage</a></strong>(java.lang.String page)</code><br>Checks the HTML and Javascript for basic format errors.  </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#cleanup()">cleanup</a></strong>()</code><br>Restores any globals that were mocked.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#cleanupDomainRecords()">cleanupDomainRecords</a></strong>()</code><br>Cleans up any records before and after each test, based on the values in the <code>dirtyDomains</code>
 array. </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.Object</code></td>
                            <td class="colLast"><code><strong><a href="#cleanupMockedUtilityClasses()">cleanupMockedUtilityClasses</a></strong>()</code><br>Cleans up any mocked .instance values in the common utility classes.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.String</code></td>
                            <td class="colLast"><code><strong><a href="#createReportLabel(java.lang.String)">createReportLabel</a></strong>(java.lang.String methodName)</code><br>Builds a unique file name.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#deleteAllRecords(java.lang.Class, java.lang.Boolean)">deleteAllRecords</a></strong>(java.lang.Class domainClass, java.lang.Boolean ignoreInitialRecords)</code><br>Utility method to clean up all records in a given domain.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#disableSQLTrace()">disableSQLTrace</a></strong>()</code><br>Disables the SQL trace level.  </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#disableStackTraceLogging()">disableStackTraceLogging</a></strong>()</code><br>For the current test, disable the stack trace logging.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#doAutoCleanups()">doAutoCleanups</a></strong>()</code><br>Cleanup up any registered mocks that need cleanup tasks.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.Object</code></td>
                            <td class="colLast"><code><strong><a href="#doOtherCleanups()">doOtherCleanups</a></strong>()</code><br>Do other, misc cleanups.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#enableSQLTrace(boolean)">enableSQLTrace</a></strong>(boolean includeParams)</code><br>Enable SQL trace.  </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>com.fasterxml.jackson.databind.ObjectMapper</code></td>
                            <td class="colLast"><code><strong><a href="#getObjectMapper()">getObjectMapper</a></strong>()</code><br>Gets or builds an object mapper that is configured for the eframe testing.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;java.sql.PreparedStatement</code></td>
                            <td class="colLast"><code><strong><a href="#getPreparedStatement(java.lang.String)">getPreparedStatement</a></strong>(java.lang.String sql)</code><br>Creates a prepared SQL statement.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.String</code></td>
                            <td class="colLast"><code><strong><a href="#lookup(java.lang.String, java.util.Locale, java.lang.Object)">lookup</a></strong>(java.lang.String key, java.util.Locale locale, java.lang.Object[] args)</code><br>Convenience method for general message.properties lookup.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.String</code></td>
                            <td class="colLast"><code><strong><a href="#lookupRequired(java.lang.String, java.util.Locale, java.lang.Object)">lookupRequired</a></strong>(java.lang.String key, java.util.Locale locale, java.lang.Object[] args)</code><br>Convenience method for general message.properties lookup for fields marked as required.
 </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#mockFieldExtension(java.util.Map)">mockFieldExtension</a></strong>(java.util.Map options)</code><br>Mocks a specific field extension.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>io.micronaut.http.HttpRequest</code></td>
                            <td class="colLast"><code><strong><a href="#mockRequest(java.util.Map)">mockRequest</a></strong>(java.util.Map params)</code><br>Mocks a request with the given parameters.  </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>boolean</code></td>
                            <td class="colLast"><code><strong><a href="#needs(java.lang.String)">needs</a></strong>(java.lang.String need)</code><br>Determines if this test class needs a given feature.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>boolean</code></td>
                            <td class="colLast"><code><strong><a href="#needsServer()">needsServer</a></strong>()</code><br>Determines if this test class needs the servers started.
 </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.Object</code></td>
                            <td class="colLast"><code><strong><a href="#propertyMissing(java.lang.String)">propertyMissing</a></strong>(java.lang.String name)</code><br>The missing property handler.   </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#registerAutoCleanup(org.simplemes.eframe.test.AutoCleanupMockInterface)">registerAutoCleanup</a></strong>(<a href='../../../../org/simplemes/eframe/test/AutoCleanupMockInterface.html'>AutoCleanupMockInterface</a> acm)</code><br>Registers an auto cleanup task with this test.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#report(java.lang.String)">report</a></strong>(java.lang.String methodName)</code><br>Writes the screen shot to the reports directory.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#reportFailure(java.lang.String)">reportFailure</a></strong>(java.lang.String methodName)</code><br>This method is called when the report fails.   </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#setCurrentUser(java.lang.String)">setCurrentUser</a></strong>(java.lang.String userName)</code><br>Temporarily sets the current user for this test.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#setTraceLogLevel(java.lang.Class)">setTraceLogLevel</a></strong>(java.lang.Class clazz)</code><br>Temporarily sets the log level to trace for the given class.
 </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.Object</code></td>
                            <td class="colLast"><code><strong><a href="#setup()">setup</a></strong>()</code><br>Sets up the Spock test.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.Object</code></td>
                            <td class="colLast"><code><strong><a href="#setupSpec()">setupSpec</a></strong>()</code><br>The setup method.  </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.Object</code></td>
                            <td class="colLast"><code><strong><a href="#startServerIfNeeded()">startServerIfNeeded</a></strong>()</code><br>Starts an embedded server, if needed.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#waitForInitialDataLoad()">waitForInitialDataLoad</a></strong>()</code><br>Waits for the initial data load finishes.  </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#waitForRecordChange(java.lang.Object)">waitForRecordChange</a></strong>(java.lang.Object record)</code><br>Wait for a record to change in the database.  </td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class geb.spock.GebSpec</code></td>
                            <td class="colLast"><code>geb.spock.GebSpec#getProperty(java.lang.String), geb.spock.GebSpec#setProperty(java.lang.String, java.lang.Object), geb.spock.GebSpec#propertyMissing(java.lang.String, java.lang.Object), geb.spock.GebSpec#propertyMissing(java.lang.String), geb.spock.GebSpec#methodMissing(java.lang.String, java.lang.Object), geb.spock.GebSpec#invokeMethod(java.lang.String, java.lang.Object), geb.spock.GebSpec#getMetaClass(), geb.spock.GebSpec#setMetaClass(groovy.lang.MetaClass), geb.spock.GebSpec#getGebConfEnv(), geb.spock.GebSpec#createConf(), geb.spock.GebSpec#createBrowser(), geb.spock.GebSpec#getBrowser(), geb.spock.GebSpec#resetBrowser(), geb.spock.GebSpec#get_browser(), geb.spock.GebSpec#set_browser(geb.Browser), geb.spock.GebSpec#setGebConfEnv(java.lang.String), geb.spock.GebSpec#getGebConfScript(), geb.spock.GebSpec#setGebConfScript(java.lang.String), geb.spock.GebSpec#get$spock_sharedField__browser(), geb.spock.GebSpec#set$spock_sharedField__browser(geb.Browser), geb.spock.GebSpec#old(java.lang.Object), geb.spock.GebSpec#with(java.lang.Object, groovy.lang.Closure), geb.spock.GebSpec#with(java.lang.Object, java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#thrown(), geb.spock.GebSpec#thrown(java.lang.Class), geb.spock.GebSpec#verifyAll(java.lang.Object, java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#verifyAll(java.lang.Object, groovy.lang.Closure), geb.spock.GebSpec#verifyAll(groovy.lang.Closure), geb.spock.GebSpec#notThrown(java.lang.Class), geb.spock.GebSpec#noExceptionThrown(), geb.spock.GebSpec#interaction(groovy.lang.Closure), geb.spock.GebSpec#Mock(java.util.Map, groovy.lang.Closure), geb.spock.GebSpec#Mock(groovy.lang.Closure), geb.spock.GebSpec#Mock(java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#Mock(java.util.Map, java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#Mock(), geb.spock.GebSpec#Mock(java.util.Map), geb.spock.GebSpec#Mock(java.lang.Class), geb.spock.GebSpec#Mock(java.util.Map, java.lang.Class), geb.spock.GebSpec#Stub(java.util.Map, groovy.lang.Closure), geb.spock.GebSpec#Stub(groovy.lang.Closure), geb.spock.GebSpec#Stub(java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#Stub(java.util.Map, java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#Stub(), geb.spock.GebSpec#Stub(java.util.Map), geb.spock.GebSpec#Stub(java.lang.Class), geb.spock.GebSpec#Stub(java.util.Map, java.lang.Class), geb.spock.GebSpec#Spy(groovy.lang.Closure), geb.spock.GebSpec#Spy(java.util.Map, groovy.lang.Closure), geb.spock.GebSpec#Spy(java.util.Map, java.lang.Class), geb.spock.GebSpec#Spy(java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#Spy(java.util.Map, java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#Spy(), geb.spock.GebSpec#Spy(java.util.Map), geb.spock.GebSpec#Spy(java.lang.Class), geb.spock.GebSpec#Spy(java.lang.Object), geb.spock.GebSpec#Spy(java.lang.Object, groovy.lang.Closure), geb.spock.GebSpec#GroovyMock(java.util.Map, groovy.lang.Closure), geb.spock.GebSpec#GroovyMock(groovy.lang.Closure), geb.spock.GebSpec#GroovyMock(java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#GroovyMock(java.util.Map, java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#GroovyMock(), geb.spock.GebSpec#GroovyMock(java.util.Map), geb.spock.GebSpec#GroovyMock(java.lang.Class), geb.spock.GebSpec#GroovyMock(java.util.Map, java.lang.Class), geb.spock.GebSpec#GroovyStub(java.util.Map, groovy.lang.Closure), geb.spock.GebSpec#GroovyStub(groovy.lang.Closure), geb.spock.GebSpec#GroovyStub(java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#GroovyStub(java.util.Map, java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#GroovyStub(), geb.spock.GebSpec#GroovyStub(java.util.Map), geb.spock.GebSpec#GroovyStub(java.lang.Class), geb.spock.GebSpec#GroovyStub(java.util.Map, java.lang.Class), geb.spock.GebSpec#GroovySpy(java.util.Map, groovy.lang.Closure), geb.spock.GebSpec#GroovySpy(groovy.lang.Closure), geb.spock.GebSpec#GroovySpy(java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#GroovySpy(java.util.Map, java.lang.Class, groovy.lang.Closure), geb.spock.GebSpec#GroovySpy(), geb.spock.GebSpec#GroovySpy(java.util.Map), geb.spock.GebSpec#GroovySpy(java.lang.Class), geb.spock.GebSpec#GroovySpy(java.util.Map, java.lang.Class), geb.spock.GebSpec#createMock(java.lang.String, java.lang.reflect.Type, org.spockframework.mock.MockNature, org.spockframework.mock.MockImplementation, java.util.Map, groovy.lang.Closure), geb.spock.GebSpec#createMock(java.lang.String, java.lang.Object, java.lang.reflect.Type, org.spockframework.mock.MockNature, org.spockframework.mock.MockImplementation, java.util.Map, groovy.lang.Closure), geb.spock.GebSpec#getSpecificationContext(), geb.spock.GebSpec#wait(long, int), geb.spock.GebSpec#wait(), geb.spock.GebSpec#wait(long), geb.spock.GebSpec#equals(java.lang.Object), geb.spock.GebSpec#toString(), geb.spock.GebSpec#hashCode(), geb.spock.GebSpec#getClass(), geb.spock.GebSpec#notify(), geb.spock.GebSpec#notifyAll()</code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            

            
            <!-- =========== PROPERTY DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="prop_detail">
                    <!--   -->
                </a>
                    <h3>Property Detail</h3>
                    
                        <a name="EXTENSION_MOCK"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;final&nbsp;java.lang.String <strong>EXTENSION_MOCK</strong></h4>
                                <p> Declares that the spec will need a mocked extension handler.
 Possible value for the <code>specNeeds</code> list.
 <p>
 This option mocks a dummy ExtensibleFieldHelper with empty FieldExtension and FieldGUIExtension
 mocks.
 Use <a href='#mockFieldExtension'>mockFieldExtension</a> to mock an extension for a specific domain.</p>
                            </li>
                        </ul>
                    
                        <a name="GUI"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;final&nbsp;java.lang.String <strong>GUI</strong></h4>
                                <p> Declares that the spec will be testing GUI features.  This forces SERVER.
 Possible value for the <code>specNeeds</code> list.</p>
                            </li>
                        </ul>
                    
                        <a name="SERVER"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;final&nbsp;java.lang.String <strong>SERVER</strong></h4>
                                <p> Declares that the spec needs the EmbeddedServer started.
 Possible value for the <code>specNeeds</code> list.        Use BaseAPISpecification for most embedded server tests.</p>
                            </li>
                        </ul>
                    
                        <a name="_mockFieldExtension"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;<a href='../../../../org/simplemes/eframe/test/MockFieldExtension.html'>MockFieldExtension</a> <strong>_mockFieldExtension</strong></h4>
                                <p> The mock extension (if in specNeeds).</p>
                            </li>
                        </ul>
                    
                        <a name="autoCleanupsNeeded"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;java.util.List&lt;<a href='../../../../org/simplemes/eframe/test/AutoCleanupMockInterface.html' title='AutoCleanupMockInterface'>AutoCleanupMockInterface</a>&gt; <strong>autoCleanupsNeeded</strong></h4>
                                <p> The list of cleanups needed by mocked elements.
</p>
                            </li>
                        </ul>
                    
                        <a name="embeddedServer"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;io.micronaut.runtime.server.EmbeddedServer <strong>embeddedServer</strong></h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="latestConnectionIdleCount"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;java.lang.Object <strong>latestConnectionIdleCount</strong></h4>
                                <p> Records the latest DB connection idle count.</p>
                            </li>
                        </ul>
                    
                        <a name="objectMapper"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;com.fasterxml.jackson.databind.ObjectMapper <strong>objectMapper</strong></h4>
                                <p> An object mapper configured as the framework needs it.</p>
                            </li>
                        </ul>
                    
                        <a name="otherDirtyDomains"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;java.util.List&lt;java.lang.Class&gt; <strong>otherDirtyDomains</strong></h4>
                                <p> A list of other domain classes that need cleanup.</p>
                            </li>
                        </ul>
                    
                        <a name="reportScreenShotCount"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;int <strong>reportScreenShotCount</strong></h4>
                                <p> A running counter to make sure we don't have screen shot name collisions.</p>
                            </li>
                        </ul>
                    
                        <a name="utilityClassesToCheck"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;java.lang.Object <strong>utilityClassesToCheck</strong></h4>
                                <p> The common utility classes to check for a mocked instance.  Will reset them to their default (non-mocked) instance.
 This typically includes DomainUtils and ControllerUtils.</p>
                            </li>
                        </ul>
                    
                        <a name="wroteTime"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;boolean <strong>wroteTime</strong></h4>
                                <p> Used to track if a new time is needed for the tests.txt output.</p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            
            <!-- =========== CONSTRUCTOR DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="constructor_detail">
                    <!--   -->
                </a>
                    <h3>Constructor Detail</h3>
                    
                        <a name="BaseSpecification()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><strong>BaseSpecification</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="assertValidationFails(java.lang.Object, int, java.lang.String, List)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>boolean <strong>assertValidationFails</strong>(java.lang.Object object, int code, java.lang.String fieldName, java.util.List&lt;java.lang.String&gt; expectedStrings)</h4>
                                <p> Runs the validation on the given domain object and verifies that the given validation (code/fieldName)
 are found.  Also checks the message for the presence of the expectedStrings. <DL><DT><B>Parameters:</B></DT><DD><code>object</code> -  The domain object to validate.</DD><DD><code>code</code> -  The expected error code.</DD><DD><code>fieldName</code> -  The expected error field.</DD><DD><code>expectedStrings</code> -  The expected strings the in the message.</DD></DL><DL><DT><B>Returns:</B></DT><DD>True if passes.  Throws assertion exception if not.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="checkForDBConnectionLeaks()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>checkForDBConnectionLeaks</strong>()</h4>
                                <p> Checks for any DB leaks.   Monitors the idle connection pool size and notes any differences.</p>
                            </li>
                        </ul>
                    
                        <a name="checkForLeftoverRecords()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>checkForLeftoverRecords</strong>()</h4>
                                <p> Checks for any left-over records that may have been created by this test.
 Checks all domains.</p>
                            </li>
                        </ul>
                    
                        <a name="checkJavascript(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>boolean <strong>checkJavascript</strong>(java.lang.String page)</h4>
                                <p> Checks the page for JS errors.  Adds some JS to make the page fragment legal JS. <DL><DT><B>Parameters:</B></DT><DD><code>page</code> -  The page.</DD></DL><DL><DT><B>Returns:</B></DT><DD>true</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="checkJavascriptFragment(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>boolean <strong>checkJavascriptFragment</strong>(java.lang.String page)</h4>
                                <p> Checks the page for JS errors.  Adds some JS to make the page fragment legal JS. <DL><DT><B>Parameters:</B></DT><DD><code>page</code> -  The page.</DD></DL><DL><DT><B>Returns:</B></DT><DD>true</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="checkPage(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>boolean <strong>checkPage</strong>(java.lang.String page)</h4>
                                <p> Checks the HTML and Javascript for basic format errors.  If the page contains no 'script' tag, the whole page
 will be tested as Javascript (not HTML). <DL><DT><B>Parameters:</B></DT><DD><code>page</code> -  The page content to check.</DD></DL><DL><DT><B>Returns:</B></DT><DD>True if Ok.  Exception if not.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="cleanup()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>cleanup</strong>()</h4>
                                <p> Restores any globals that were mocked.</p>
                            </li>
                        </ul>
                    
                        <a name="cleanupDomainRecords()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>cleanupDomainRecords</strong>()</h4>
                                <p> Cleans up any records before and after each test, based on the values in the <code>dirtyDomains</code>
 array. Always cleans up UserPreference records. <DL><DT><B>Parameters:</B></DT><DD><code>tester</code> -  The tester class <b>Required</b>.  Used to access the GEB features.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="cleanupMockedUtilityClasses()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.Object <strong>cleanupMockedUtilityClasses</strong>()</h4>
                                <p> Cleans up any mocked .instance values in the common utility classes.</p>
                            </li>
                        </ul>
                    
                        <a name="createReportLabel(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.String <strong>createReportLabel</strong>(java.lang.String methodName)</h4>
                                <p> Builds a unique file name. <DL><DT><B>Parameters:</B></DT><DD><code>methodName</code> -  The core label.</DD></DL><DL><DT><B>Returns:</B></DT><DD>The unique file name.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="deleteAllRecords(java.lang.Class, java.lang.Boolean)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarnings(value: GroovyAssignabilityCheck)
void <strong>deleteAllRecords</strong>(java.lang.Class domainClass, java.lang.Boolean ignoreInitialRecords)</h4>
                                <p> Utility method to clean up all records in a given domain. <DL><DT><B>Parameters:</B></DT><DD><code>domainClass</code> -  The domain to clean up.</DD><DD><code>ignoreInitialRecords</code> -  If true, then the allowed initial data load records will nto be deleted.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="disableSQLTrace()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>disableSQLTrace</strong>()</h4>
                                <p> Disables the SQL trace level.  Resets to WARN.</p>
                            </li>
                        </ul>
                    
                        <a name="disableStackTraceLogging()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>disableStackTraceLogging</strong>()</h4>
                                <p> For the current test, disable the stack trace logging.</p>
                            </li>
                        </ul>
                    
                        <a name="doAutoCleanups()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>doAutoCleanups</strong>()</h4>
                                <p> Cleanup up any registered mocks that need cleanup tasks.</p>
                            </li>
                        </ul>
                    
                        <a name="doOtherCleanups()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.Object <strong>doOtherCleanups</strong>()</h4>
                                <p> Do other, misc cleanups.</p>
                            </li>
                        </ul>
                    
                        <a name="enableSQLTrace(boolean)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarnings(value: unused)
void <strong>enableSQLTrace</strong>(boolean includeParams)</h4>
                                <p> Enable SQL trace.  Used mainly in debugging of SQL without enabling it during startup. <DL><DT><B>Parameters:</B></DT><DD><code>includeParams</code> -  If true, then parameters are logged too.  (<b>Default</b>: false).</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getObjectMapper()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>com.fasterxml.jackson.databind.ObjectMapper <strong>getObjectMapper</strong>()</h4>
                                <p> Gets or builds an object mapper that is configured for the eframe testing.
 This avoids using the embedded server if possible. <DL><DT><B>Returns:</B></DT><DD>A configured mapper.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getPreparedStatement(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;java.sql.PreparedStatement <strong>getPreparedStatement</strong>(java.lang.String sql)</h4>
                                <p> Creates a prepared SQL statement. <DL><DT><B>Parameters:</B></DT><DD><code>sql</code> -  The SQL.</DD></DL><DL><DT><B>Returns:</B></DT><DD>The statement.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="lookup(java.lang.String, java.util.Locale, java.lang.Object)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.String <strong>lookup</strong>(java.lang.String key, java.util.Locale locale, java.lang.Object[] args)</h4>
                                <p> Convenience method for general message.properties lookup.
 Delegates to GlobalUtils#lookup(java.lang.String, java.lang.Object [ ]).
 <p>
 <b>Note:</b> This lookup will flag missing .properties entries. <DL><DT><B>Parameters:</B></DT><DD><code>key</code> -  The key to lookup.  If it starts with '*', then the return value will start with a '*'.
            The lookup will take place without the '*'.  This is used to support required field labels.</DD><DD><code>locale</code> -  The locale to use for the message. (<b>Default</b>: Request Locale)</DD><DD><code>args</code> -  The replaceable arguments used by the message (if any).</DD></DL><DL><DT><B>Returns:</B></DT><DD>The looked up message.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="lookupRequired(java.lang.String, java.util.Locale, java.lang.Object)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.String <strong>lookupRequired</strong>(java.lang.String key, java.util.Locale locale, java.lang.Object[] args)</h4>
                                <p> Convenience method for general message.properties lookup for fields marked as required.
 Delegates to GlobalUtils#lookup(java.lang.String, java.lang.Object [ ]).
 <p>
 <b>Note:</b> This lookup will flag missing .properties entries. <DL><DT><B>Parameters:</B></DT><DD><code>key</code> -  The key to lookup.</DD><DD><code>locale</code> -  The locale to use for the message. (<b>Default</b>: Request Locale)</DD><DD><code>args</code> -  The replaceable arguments used by the message (if any).</DD></DL><DL><DT><B>Returns:</B></DT><DD>The looked up message.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="mockFieldExtension(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>mockFieldExtension</strong>(java.util.Map options)</h4>
                                <p> Mocks a specific field extension.  Needs the <a href='#EXTENSION_MOCK'>EXTENSION_MOCK</a> in the specNeeds property. <DL><DT><B>Parameters:</B></DT><DD><code>options</code> -  The options for the field to add.  See <a href='../../../../org/simplemes/eframe/test/MockFieldExtension.html' title='MockFieldExtension'>MockFieldExtension</a> for details.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="mockRequest(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>io.micronaut.http.HttpRequest <strong>mockRequest</strong>(java.util.Map params)</h4>
                                <p> Mocks a request with the given parameters.  This also stores the mock request in the currentRequest for indirect
 access.<p>
 <h3>Support params</h3>
 The logging for this class that can be enabled:
 <ul>
   <li><b>body</b> - The request body text (string). </li>
   <li><b>uri</b> - The URI of this request (string). </li>
   <li><b>accept</b> - The Accept header for this request. </li>
   <li><b>remoteAddress</b> - The InetSocketAddress simulated for this mock request. </li>
   <li><b>cookies</b> - A list of cookies simulated for this mock request.  Array of strings in format: ['JWT=abc...','JWT_REFRESH=abc...'] </li>
   <li><b>headers</b> - A list of headers simulated for this mock request.  Map with key = header name. </li>
 </ul> <DL><DT><B>Parameters:</B></DT><DD><code>params</code> -  The parameters (optional).  Special parameters ('uri') are stored in the request itself in the special fields.
               Also supports the body (string)</DD></DL><DL><DT><B>Returns:</B></DT><DD>The request.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="needs(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>boolean <strong>needs</strong>(java.lang.String need)</h4>
                                <p> Determines if this test class needs a given feature.  Checks the 'specNeeds' static value. <DL><DT><B>Parameters:</B></DT><DD><code>need</code> -  The specific need (e.g. BaseSpecification.SERVER).</DD></DL><DL><DT><B>Returns:</B></DT><DD>True if needed.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="needsServer()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>boolean <strong>needsServer</strong>()</h4>
                                <p> Determines if this test class needs the servers started.
 This is true if the <code>specNeeds</code> static values contain SERVER or GUI. <DL><DT><B>Returns:</B></DT><DD>True if needed.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="propertyMissing(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.Object <strong>propertyMissing</strong>(java.lang.String name)</h4>
                                <p> The missing property handler.   This avoids the GEB propertyMissing handler when possible.
 @return <DL><DT><B>Parameters:</B></DT><DD><code>name</code> -  The missing property.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="registerAutoCleanup(org.simplemes.eframe.test.AutoCleanupMockInterface)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>registerAutoCleanup</strong>(<a href='../../../../org/simplemes/eframe/test/AutoCleanupMockInterface.html'>AutoCleanupMockInterface</a> acm)</h4>
                                <p> Registers an auto cleanup task with this test. <DL><DT><B>Parameters:</B></DT><DD><code>acm</code> -  The auto cleanup mock.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="report(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>report</strong>(java.lang.String methodName)</h4>
                                <p> Writes the screen shot to the reports directory. <DL><DT><B>Parameters:</B></DT><DD><code>methodName</code> -  The method that failed.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="reportFailure(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>reportFailure</strong>(java.lang.String methodName)</h4>
                                <p> This method is called when the report fails.   It is sent by global Spock extension BaseFailureListener.</p>
                            </li>
                        </ul>
                    
                        <a name="setCurrentUser(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>setCurrentUser</strong>(java.lang.String userName)</h4>
                                <p> Temporarily sets the current user for this test.
 Will be reset to null on test finish. <DL><DT><B>Parameters:</B></DT><DD><code>userName</code> -  The user to set the current user to.  <b>Default: </b>SecurityUtils.TEST_USER ('TEST').</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="setTraceLogLevel(java.lang.Class)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>setTraceLogLevel</strong>(java.lang.Class clazz)</h4>
                                <p> Temporarily sets the log level to trace for the given class.
 Will be reset to null on test finish.
 <p>
 This is used for quick trace settings while developing a test.
 It <b>should not</b> be left in the test code for check-in. <DL><DT><B>Parameters:</B></DT><DD><code>clazz</code> -  The class to set the log level to.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="setup()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarnings(value: [Println, GroovyAssignabilityCheck, SystemOutPrint])
java.lang.Object <strong>setup</strong>()</h4>
                                <p> Sets up the Spock test.<p>
 <b>Note:</b> This method indirectly sets the JVM's default timezone to UTC for proper date handling in the database.
</p>
                            </li>
                        </ul>
                    
                        <a name="setupSpec()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarnings(value: [SystemOutPrint, unused])
java.lang.Object <strong>setupSpec</strong>()</h4>
                                <p> The setup method.  This method writes the test in IDEA runner format to allow us to re-produce the
 order of execution.  Writes each test suite to 'tmp/tests.txt'.</p>
                            </li>
                        </ul>
                    
                        <a name="startServerIfNeeded()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.Object <strong>startServerIfNeeded</strong>()</h4>
                                <p> Starts an embedded server, if needed.</p>
                            </li>
                        </ul>
                    
                        <a name="waitForInitialDataLoad()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>waitForInitialDataLoad</strong>()</h4>
                                <p> Waits for the initial data load finishes.  Mainly used to wait for things like admin user or roles to be loaded.
 Waits up to 5 seconds.  Will throw an exception if it never finishes.</p>
                            </li>
                        </ul>
                    
                        <a name="waitForRecordChange(java.lang.Object)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>waitForRecordChange</strong>(java.lang.Object record)</h4>
                                <p> Wait for a record to change in the database.  Checks the version until is changes.  Waits up to 5 seconds. <DL><DT><B>Parameters:</B></DT><DD><code>record</code> -  The record to wait for a change.</DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../index-all.html">Index</a></li>
        <li><a href="../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../index.html?org/simplemes/eframe/test/BaseSpecification" target="_top">Frames</a></li>
            <li><a href="BaseSpecification.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
